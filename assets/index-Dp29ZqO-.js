(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&e(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const x=document.querySelector(".header__burger"),E=document.querySelector(".nav"),N=document.querySelector("body");x.addEventListener("click",()=>{x.classList.toggle("header__burger--active"),E.classList.toggle("nav--shown"),N.classList.toggle("body--no-scroll")});E.addEventListener("click",i=>{i.target.closest(".nav__link")&&(E.classList.remove("nav--shown"),x.classList.remove("header__burger--active"),N.classList.remove("body--no-scroll"))});const I=document.querySelector(".hero__video");let g=1,L=1,w="idle";function F(){I.style.transform=`scale(${g})`}function B(){const i=I.getBoundingClientRect(),s=window.innerWidth,r=window.innerHeight,e=s/i.width,t=r/i.height;return Math.max(e,t)}function k(){g+=(L-g)*.06,Math.abs(g-L)<.01&&(g=L,w="idle"),F(),w!=="idle"&&requestAnimationFrame(k)}function H(){L=B(),w="grow",requestAnimationFrame(k)}function D(){L=1,w="shrink",requestAnimationFrame(k)}function Q(i,s){const r=new IntersectionObserver(([t])=>{t.isIntersecting?D():H()},{threshold:0,rootMargin:"-50px 0px 0px 0px"}),e=new IntersectionObserver(([t])=>{t.isIntersecting&&D()},{threshold:0,rootMargin:"0px 0px -300px 0px"});r.observe(i),e.observe(s)}function R(i){const s=i.querySelector(".carousel__track"),r=Array.from(s.children),e=i.querySelector(".carousel__button--prev"),t=i.querySelector(".carousel__button--next"),o=i.querySelector(".carousel__viewport"),d=r[0].offsetWidth,m=parseFloat(getComputedStyle(s).gap),h=d+m;let n=0;function u(){return Math.floor((o.offsetWidth+m)/h)}function f(){s.style.transform=`translateX(${-n*h}px)`;const p=r.length-u();e.disabled=n===0,t.disabled=n>=p,i.setAttribute("aria-live","polite"),i.setAttribute("aria-roledescription",`Показан слайд ${n+1} из ${r.length}`)}function y(){n>0&&(n--,f())}function _(){const p=r.length-u();n<p&&(n++,f())}e.addEventListener("click",y),t.addEventListener("click",_),i.addEventListener("keydown",p=>{p.key==="ArrowLeft"&&(p.preventDefault(),y()),p.key==="ArrowRight"&&(p.preventDefault(),_())}),window.addEventListener("resize",f),f()}function Y(i){const s=i.querySelector(".slider__track"),r=Array.from(i.querySelectorAll(".slider__slide")),e=i.querySelector(".slider__pagination");let t=0,o=[],d=0,m=0,h=0,n=0,u=!1,f=!1,y=0;const _=a=>a.type.includes("mouse")?{x:a.pageX,y:a.pageY}:{x:a.touches[0].clientX,y:a.touches[0].clientY},p=(a,l,c)=>Math.min(c,Math.max(l,a)),O=()=>{o.forEach((a,l)=>a.classList.toggle("slider__bullet--active",l===t))},A=()=>{s.style.transform=`translateX(${n}px)`},b=(a,l=!1)=>{t=a,n=-a*i.offsetWidth,s.style.transition="",A(),O(),r.forEach(v=>{v.removeAttribute("tabindex"),v.classList.remove("slider__slide--active")});const c=r[t];c.classList.add("slider__slide--active"),l&&(c.setAttribute("tabindex","-1"),c.focus())};function S(a){const l=_(a);d=l.x,m=l.y,h=n,y=Date.now(),u=!0,f=!1,s.style.transition="none"}function q(a){if(!u)return;const l=_(a),c=Math.abs(l.x-d),v=Math.abs(l.y-m);if((c>5||v>5)&&(f=!0),v>c&&v>10){u=!1;return}if(c>v&&c>10){a.preventDefault();const P=l.x-d,T=i.offsetWidth,X=0,$=-(r.length-1)*T;n=p(h+P,$,X),A()}}function C(){if(!u)return;if(u=!1,!f){f=!1;return}const a=n-h,l=Date.now()-y<300;(Math.abs(a)>50||Math.abs(a)>20&&l)&&(a<0&&t<r.length-1?t++:a>0&&t>0&&t--),b(t),setTimeout(()=>f=!1,80)}function W(){i.dataset.sliderInit!=="true"&&(i.dataset.sliderInit="true",i.tabIndex=0,i.setAttribute("role","region"),i.setAttribute("aria-roledescription","carousel"),i.setAttribute("aria-label","Слайдер"),r.forEach((a,l)=>{const c=document.createElement("button");c.className="slider__bullet",l===0&&c.classList.add("slider__bullet--active"),c.addEventListener("click",()=>b(l,!0)),e.appendChild(c)}),o=Array.from(e.children),i.addEventListener("mousedown",S,{passive:!1}),i.addEventListener("touchstart",S,{passive:!1}),document.addEventListener("mousemove",q,{passive:!1}),document.addEventListener("touchmove",q,{passive:!1}),document.addEventListener("mouseup",C),document.addEventListener("touchend",C),i.addEventListener("keydown",a=>{const c=document.activeElement.tagName.toLowerCase();["a","button","input","textarea","select"].includes(c)||(a.key==="ArrowRight"&&(a.preventDefault(),t<r.length-1&&b(t+1,!0)),a.key==="ArrowLeft"&&(a.preventDefault(),t>0&&b(t-1,!0)))}))}return{init:W}}const M=document.querySelectorAll(".anim-block");if(M.length>0){const i=new IntersectionObserver((s,r)=>{s.forEach(e=>{if(!e.isIntersecting)return;const t=e.target;if(t.classList.contains("anim-once")){t.classList.add("animate"),r.unobserve(t);return}t.classList.remove("animate"),t.offsetWidth,t.classList.add("animate")})},{threshold:.3});M.forEach(s=>i.observe(s))}function z(i=".scroll-container",s=714){document.querySelectorAll(i).forEach(e=>{let t=!1,o,d,m=!1;e.addEventListener("mousedown",n=>{t=!0,m=!1,e.classList.add("active"),o=n.pageX-e.offsetLeft,d=e.scrollLeft}),e.addEventListener("mouseleave",()=>{t=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{t=!1,e.classList.remove("active")}),e.addEventListener("mousemove",n=>{if(!t)return;const u=n.pageX-e.offsetLeft,f=(u-o)*2;Math.abs(u-o)>3&&(m=!0),n.preventDefault(),e.scrollLeft=d-f}),e.addEventListener("click",n=>{m&&(n.preventDefault(),n.stopPropagation())});function h(){window.innerWidth<=s?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}h(),window.addEventListener("resize",h),e.addEventListener("keydown",n=>{if(document.activeElement!==e)return;const u=50;switch(n.key){case"ArrowLeft":n.preventDefault(),e.scrollLeft-=u;break;case"ArrowRight":n.preventDefault(),e.scrollLeft+=u;break;case"Home":n.preventDefault(),e.scrollLeft=0;break;case"End":n.preventDefault(),e.scrollLeft=e.scrollWidth;break}})})}class G{constructor(s){this.type=s,this._baseWindowWidth="767"}init(){this._objectsArray=[],this._daClassName="dynamic-adaptive",this._daCopyClassName="dynamic-adaptive-copy",this._nodes=document.querySelectorAll("[data-da]"),this._nodes.forEach(s=>{const e=s.dataset.da.trim().split(","),t={};t.element=s,t.parent=s.parentNode,t.destination=document.querySelector(e[0].trim()),t.breakpoint=e[1]?e[1].trim():this._baseWindowWidth,t.place=e[2]?e[2].trim():"last",t.index=this._indexInParent(t.parent,t.element),t.action=e[3]?e[3].trim():"move",t.copyClass=e[4]?e[4].trim():null,this._objectsArray.push(t)}),this._arraySort(),this._mediaQueries=this._objectsArray.map(s=>`(${this.type}-width: ${s.breakpoint}px),${s.breakpoint}`),this._mediaQueries=this._mediaQueries.filter((s,r)=>this._mediaQueries.indexOf(s)===r),this._mediaQueries.forEach(s=>{const r=String(s).split(","),e=window.matchMedia(r[0]),t=r[1],o=this._objectsArray.filter(d=>d.breakpoint===t);e.addListener(()=>{this._mediaHandler(e,o)}),this._mediaHandler(e,o)})}_mediaHandler(s,r){if(s.matches){r.forEach(e=>{if(e.action==="copy"){if(!e.destination)return;const t=e.element.cloneNode(!0);t.classList.add(this._daCopyClassName),e.copyClass&&e.copyClass.split(" ").forEach(o=>t.classList.add(o)),this._moveTo(e.place,t,e.destination)}else e.index=this._indexInParent(e.parent,e.element),this._moveTo(e.place,e.element,e.destination)});return}r.forEach(e=>{e.action==="move"&&e.element.classList.contains(this._daClassName)&&this._moveBack(e.parent,e.element,e.index),e.action==="copy"&&e.destination&&e.destination.querySelectorAll(`.${this._daCopyClassName}`).forEach(t=>t.remove())})}_moveTo(s,r,e){if(r.classList.contains(this._daCopyClassName)||r.classList.add(this._daClassName),s==="last"||s>=e.children.length){e.append(r);return}if(s==="first"){e.prepend(r);return}e.children[s].before(r)}_moveBack(s,r,e){if(r.classList.remove(this._daClassName),s.children[e]){s.children[e].before(r);return}s.append(r)}_indexInParent(s,r){return Array.from(s.children).indexOf(r)}_arraySort(){this.type==="min"?this._objectsArray.sort((s,r)=>s.breakpoint===r.breakpoint?s.place===r.place?0:s.place==="first"&&r.place==="last"?-1:s.place==="last"&&r.place==="first"?1:s.place-r.place:s.breakpoint-r.breakpoint):this._objectsArray.sort((s,r)=>s.breakpoint===r.breakpoint?s.place===r.place?0:s.place==="first"&&r.place==="last"?1:s.place==="last"&&r.place==="first"?-1:r.place-s.place:r.breakpoint-s.breakpoint)}}const K=()=>{new G("max").init()},V=document.querySelector(".hero__title"),J=document.querySelector(".portfolio"),U=document.querySelector(".projects__carousel"),Z=document.querySelector(".banners");window.addEventListener("DOMContentLoaded",()=>{window.addEventListener("load",()=>{Q(V,J),K()}),R(U),Y(Z).init(),z()});
